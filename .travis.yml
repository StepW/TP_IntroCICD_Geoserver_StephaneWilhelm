
language: java
dist: trusty
os: linux
before_install:
  - rm ~/.m2/settings.xml
  - wget https://github.com/sormuras/bach/raw/master/install-jdk.sh
#  - install -jdk.sh
install:
  - sudo pip install sphinx requests
jobs: 
  include: 
#    - stage: build
#      name: building-project
#      script: "sh './scripts/build.sh'"
    - stage: test
      name: test on jdk8
#      jdk: oraclejdk8
      - jdk_switcher use oraclejdk8
      - "sh './scripts/tests.sh'"
    - name: test on jdk11
#      jdk: oraclejdk11
      script: 
#      - jdk_switcher use oraclejdk-11
      - jdk_switcher use openjdk10
      - export JAVA_HOME=$HOME/openjdk11
      - $TRAVIS_BUILD_DIR/install-jdk.sh --install openjdk11 --target $JAVA_HOME
      - "sh './scripts/tests.sh'"
    - stage: deploy	
      name: deploying
      script: "sh './scripts/deploy.sh'"

